# 				Linux学习笔记

## 引言

### 第一章 引言



## 学习shell

### 第二章 什么是shell

#### 第一次按键

```shell
[ketty@localhost ~]$ 
[root@localhost ~]# 
```

命令组成：用户名@主机名 当前工作目录  $  (说明：这是普通用户)

​		 用户名@主机名 当前工作目录  #  （说明：这是管理员用户）

#### 命令历史

   Linux 发行版默认保存最后输入的500个命令。上下箭头切换历史命令，左右箭头切换光标。

#### 复制粘贴

复制：  按下鼠标左键，沿着文本拖动鼠标（或者双击一个单词）使文本高亮

粘贴：按下鼠标中键

#### 一些简单的命令

date:  	显示系统当前时间和日期。

```shell
[root@localhost ~]# date
2019年 01月 27日 星期日 00:03:34 EST
```

cal:		默认显示当前月份的日历。

```shell
[root@localhost ~]# cal
      一月 2019     
日 一 二 三 四 五 六
       1  2  3  4  5
 6  7  8  9 10 11 12
13 14 15 16 17 18 19
20 21 22 23 24 25 26
27 28 29 30 31

```

df:		查看磁盘剩余空间的数量

```shell
[root@localhost ~]# df
文件系统                   1K-块    已用     可用 已用% 挂载点
/dev/mapper/centos-root 38815216 9283140 29532076   24% /
devtmpfs                 1914820       0  1914820    0% /dev
tmpfs                    1931756       0  1931756    0% /dev/shm
tmpfs                    1931756   12744  1919012    1% /run
tmpfs                    1931756       0  1931756    0% /sys/fs/cgroup
/dev/sda1                1038336  251676   786660   25% /boot
/dev/mapper/centos-home 18950144  156076 18794068    1% /home
tmpfs                     386352      24   386328    1% /run/user/1000
/dev/sr0                 4364408 4364408        0  100% /run/media/ketty/CentOS 7 x86_64

```

free:		显示空闲内存的数量

```shell
[root@localhost ~]# free
              total        used        free      shared  buff/cache   available
Mem:        3863512      813884     2398316       15628      651312     2747612
Swap:       4063228           0     4063228

```

#### 结束终端会话

exit

```shell
[root@localhost ~]# exit
exit
```

#### 幕后控制台

按下 Ctrl-Alt-F1 到 Ctrl-Alt-F6 访问虚拟终端

按下 Alt 和 F1-F6(中的一个)从一个虚拟控制台转换到另一个

按下 Alt-F7 返回图形桌面



### 第三章 文件系统中跳转

- pwd — 打印出当前工作目录名

- cd — 更改目录

- ls — 列出目录内容

  

特殊符号是 “.” (点) 和 “..” (点点)

| 快捷键           | 运行结果                                     |
| ------------- | ---------------------------------------- |
| cd            | 更改工作目录到你的家目录。                            |
| cd -          | 更改工作目录到先前的工作目录。                          |
| cd ~user_name | 更改工作目录到用户家目录。例如, cd ~bob 会更改工作目录到用户“bob”的家目录。 |

关于文件名的重要规则

1. 以 “.” 字符开头的文件名是隐藏文件。这仅表示，ls 命令不能列出它们， 用 ls -a 命令就可以了

2. 文件名和命令名是大小写敏感的

3. Linux 没有“文件扩展名”的概念

4. 虽然 Linux 支持长文件名，文件名可能包含空格，标点符号，但标点符号仅限 使用 “.”，“－”，下划线。最重要的是，不要在文件名中使用空格。如果你想表示词与 词间的空格，用下划线字符来代替。

   

### 第四章 探究操作系统

- ls — 列出目录内容
- file — 确定文件类型
- less — 浏览文件内容

#### *ls 命令选项*

| 选项 | 长选项           | 描述                                                         |
| ---- | ---------------- | ------------------------------------------------------------ |
| -a   | --all            | 列出所有文件，甚至包括文件名以圆点开头的默认会被隐藏的隐藏文件。 |
| -d   | --directory      | 通常，如果指定了目录名，ls 命令会列出这个目录中的内容，而不是目录本身。 把这个选项与 -l 选项结合使用，可以看到所指定目录的详细信息，而不是目录中的内容。 |
| -F   | --classify       | 这个选项会在每个所列出的名字后面加上一个指示符。例如，如果名字是 目录名，则会加上一个'/'字符。 |
| -h   | --human-readable | 当以长格式列出时，以人们可读的格式，而不是以字节数来显示文件的大小。 |
| -l   |                  | 以长格式显示结果。                                           |
| -r   | --reverse        | 以相反的顺序来显示结果。通常，ls 命令的输出结果按照字母升序排列。 |
| -S   |                  | 命令输出结果按照文件大小来排序。                             |
| -t   |                  | 按照修改时间来排序。                                         |



#### *ls 长格式列表的字段*

| 字段             | 含义                                                         |
| ---------------- | ------------------------------------------------------------ |
| -rw-r--r--       | 对于文件的访问权限。第一个字符指明文件类型。在不同类型之间， 开头的“－”说明是一个普通文件，“d”表明是一个目录。其后三个字符是文件所有者的 访问权限，再其后的三个字符是文件所属组中成员的访问权限，最后三个字符是其他所 有人的访问权限。这个字段的完整含义将在第十章讨论。 |
| 1                | 文件的硬链接数目。参考随后讨论的关于链接的内容。             |
| root             | 文件所有者的用户名。                                         |
| root             | 文件所属用户组的名字。                                       |
| 32059            | 以字节数表示的文件大小。                                     |
| 2007-04-03 11:05 | 上次修改文件的时间和日期。                                   |
| oo-cd-cover.odf  | 文件名。                                                     |



####  *less 命令*

| 命令               | 行为                                                     |
| ------------------ | -------------------------------------------------------- |
| Page UP or b       | 向上翻滚一页                                             |
| Page Down or space | 向下翻滚一页                                             |
| UP Arrow           | 向上翻滚一行                                             |
| Down Arrow         | 向下翻滚一行                                             |
| G                  | 移动到最后一行                                           |
| 1G or g            | 移动到开头一行                                           |
| /charaters         | 向前查找指定的字符串                                     |
| n                  | 向前查找下一个出现的字符串，这个字符串是之前所指定查找的 |
| h                  | 显示帮助屏幕                                             |
| q                  | 退出 less 程序                                           |



####  *Linux 系统中的目录*

| 目录           | 评论                                                         |
| -------------- | ------------------------------------------------------------ |
| /              | 根目录，万物起源。                                           |
| /bin           | 包含系统启动和运行所必须的二进制程序。                       |
| /boot          | 包含 Linux 内核、初始 RAM 磁盘映像（用于启动时所需的驱动）和 启动加载程序。有趣的文件：/boot/grub/grub.conf or menu.lst， 被用来配置启动加载程序。/boot/vmlinuz，Linux 内核。 |
| /dev           | 这是一个包含设备结点的特殊目录。“一切都是文件”，也适用于设备。 在这个目录里，内核维护着所有设备的列表。 |
| /etc           | 这个目录包含所有系统层面的配置文件。它也包含一系列的 shell 脚本， 在系统启动时，这些脚本会开启每个系统服务。这个目录中的任何文件应该是可读的文本文件。有趣的文件：虽然/etc 目录中的任何文件都有趣，但这里只列出了一些我一直喜欢的文件：/etc/crontab， 定义自动运行的任务。/etc/fstab，包含存储设备的列表，以及与他们相关的挂载点。/etc/passwd，包含用户帐号列表。 |
| /home          | 在通常的配置环境下，系统会在/home 下，给每个用户分配一个目录。普通用户只能 在自己的目录下写文件。这个限制保护系统免受错误的用户活动破坏。 |
| /lib           | 包含核心系统程序所使用的共享库文件。这些文件与 Windows 中的动态链接库相似。 |
| /lost+found    | 每个使用 Linux 文件系统的格式化分区或设备，例如 ext3文件系统， 都会有这个目录。当部分恢复一个损坏的文件系统时，会用到这个目录。这个目录应该是空的，除非文件系统 真正的损坏了。 |
| /media         | 在现在的 Linux 系统中，/media 目录会包含可移动介质的挂载点， 例如 USB 驱动器，CD-ROMs 等等。这些介质连接到计算机之后，会自动地挂载到这个目录结点下。 |
| /mnt           | 在早些的 Linux 系统中，/mnt 目录包含可移动介质的挂载点。     |
| /opt           | 这个/opt 目录被用来安装“可选的”软件。这个主要用来存储可能 安装在系统中的商业软件产品。 |
| /proc          | 这个/proc 目录很特殊。从存储在硬盘上的文件的意义上说，它不是真正的文件系统。 相反，它是一个由 Linux 内核维护的虚拟文件系统。它所包含的文件是内核的窥视孔。这些文件是可读的， 它们会告诉你内核是怎样监管计算机的。 |
| /root          | root 帐户的家目录。                                          |
| /sbin          | 这个目录包含“系统”二进制文件。它们是完成重大系统任务的程序，通常为超级用户保留。 |
| /tmp           | 这个/tmp 目录，是用来存储由各种程序创建的临时文件的地方。一些配置导致系统每次 重新启动时，都会清空这个目录。 |
| /usr           | 在 Linux 系统中，/usr 目录可能是最大的一个。它包含普通用户所需要的所有程序和文件。 |
| /usr/bin       | /usr/bin 目录包含系统安装的可执行程序。通常，这个目录会包含许多程序。 |
| /usr/lib       | 包含由/usr/bin 目录中的程序所用的共享库。                    |
| /usr/local     | 这个/usr/local 目录，是非系统发行版自带程序的安装目录。 通常，由源码编译的程序会安装在/usr/local/bin 目录下。新安装的 Linux 系统中会存在这个目录， 并且在管理员安装程序之前，这个目录是空的。 |
| /usr/sbin      | 包含许多系统管理程序。                                       |
| /usr/share     | /usr/share 目录包含许多由/usr/bin 目录中的程序使用的共享数据。 其中包括像默认的配置文件、图标、桌面背景、音频文件等等。 |
| /usr/share/doc | 大多数安装在系统中的软件包会包含一些文档。在/usr/share/doc 目录下， 我们可以找到按照软件包分类的文档。 |
| /var           | 除了/tmp 和/home 目录之外，相对来说，目前我们看到的目录是静态的，这是说， 它们的内容不会改变。/var 目录存放的是动态文件。各种数据库，假脱机文件， 用户邮件等等，都位于在这里。 |
| /var/log       | 这个/var/log 目录包含日志文件、各种系统活动的记录。这些文件非常重要，并且 应该时时监测它们。其中最重要的一个文件是/var/log/messages。注意，为了系统安全，在一些系统中， 你必须是超级用户才能查看这些日志文件。 |



### 第五章 操作文件和目录

- cp — 复制文件和目录
- mv — 移动/重命名文件和目录
- mkdir — 创建目录
- rm — 删除文件和目录
- ln — 创建硬链接和符号链接



#### *通配符*

| 通配符        | 意义                               |
| ------------- | ---------------------------------- |
| *             | 匹配任意多个字符（包括零个或一个） |
| ?             | 匹配任意一个字符（不包括零个）     |
| [characters]  | 匹配任意一个属于字符集中的字符     |
| [!characters] | 匹配任意一个不是字符集中的字符     |
| [[:class:]]   | 匹配任意一个属于指定字符类中的字符 |



#### *普遍使用的字符类*

| 字符类    | 意义                   |
| --------- | ---------------------- |
| [:alnum:] | 匹配任意一个字母或数字 |
| [:alpha:] | 匹配任意一个字母       |
| [:digit:] | 匹配任意一个数字       |
| [:lower:] | 匹配任意一个小写字母   |
| [:upper:] | 匹配任意一个大写字母   |



#### *通配符范例*

| 模式                   | 匹配对象                                                  |
| ---------------------- | --------------------------------------------------------- |
| *                      | 所有文件                                                  |
| g*                     | 文件名以“g”开头的文件                                     |
| b*.txt                 | 以"b"开头，中间有零个或任意多个字符，并以".txt"结尾的文件 |
| Data???                | 以“Data”开头，其后紧接着3个字符的文件                     |
| [abc]*                 | 文件名以"a","b",或"c"开头的文件                           |
| BACKUP.[0-9][0-9][0-9] | 以"BACKUP."开头，并紧接着3个数字的文件                    |
| [[:upper:]]*           | 以大写字母开头的文件                                      |
| [![:digit:]]*          | 不以数字开头的文件                                        |
| *[[:lower:]123]        | 文件名以小写字母结尾，或以 “1”，“2”，或 “3” 结尾的文件    |



#### *cp 选项*

| 选项              | 意义                                                         |
| ----------------- | ------------------------------------------------------------ |
| -a, --archive     | 复制文件和目录，以及它们的属性，包括所有权和权限。 通常，副本具有用户所操作文件的默认属性。 |
| -i, --interactive | 在重写已存在文件之前，提示用户确认。如果这个选项不指定， cp 命令会默认重写文件。 |
| -r, --recursive   | 递归地复制目录及目录中的内容。当复制目录时， 需要这个选项（或者-a 选项）。 |
| -u, --update      | 当把文件从一个目录复制到另一个目录时，仅复制 目标目录中不存在的文件，或者是文件内容新于目标目录中已经存在的文件。 |
| -v, --verbose     | 显示翔实的命令操作信息                                       |



#### *cp 实例*

| 命令                | 运行结果                                                     |
| ------------------- | ------------------------------------------------------------ |
| cp file1 file2      | 复制文件 file1 内容到文件 file2。如果 file2 已经存在， file2 的内容会被 file1 的内容重写。如果 file2 不存在，则会创建 file2。 |
| cp -i file1 file2   | 这条命令和上面的命令一样，除了如果文件 file2 存在的话，在文件 file2 被重写之前， 会提示用户确认信息。 |
| cp file1 file2 dir1 | 复制文件 file1 和文件 file2 到目录 dir1。目录 dir1 必须存在。 |
| cp dir1/* dir2      | 使用一个通配符，在目录 dir1 中的所有文件都被复制到目录 dir2 中。 dir2 必须已经存在。 |
| cp -r dir1 dir2     | 复制目录 dir1 中的内容到目录 dir2。如果目录 dir2 不存在， 创建目录 dir2，操作完成后，目录 dir2 中的内容和 dir1 中的一样。 如果目录 dir2 存在，则目录 dir1 (和目录中的内容)将会被复制到 dir2 中。 |



#### *mv 选项*

| 选项             | 意义                                                         |
| ---------------- | ------------------------------------------------------------ |
| -i --interactive | 在重写一个已经存在的文件之前，提示用户确认信息。 **如果不指定这个选项，mv 命令会默认重写文件内容。** |
| -u --update      | 当把文件从一个目录移动另一个目录时，只是移动不存在的文件， 或者文件内容新于目标目录相对应文件的内容。 |
| -v --verbose     | 当操作 mv 命令时，显示翔实的操作信息。                       |



#### *mv 实例*

| mv file1 file2      | 移动 file1 到 file2。**如果 file2 存在，它的内容会被 file1 的内容重写。** 如果 file2 不存在，则创建 file2。 **这两种情况下，file1 都不再存在。** |
| ------------------- | ------------------------------------------------------------ |
| mv -i file1 file2   | 除了如果 file2 存在的话，在 file2 被重写之前，用户会得到 提示信息外，这个和上面的选项一样。 |
| mv file1 file2 dir1 | 移动 file1 和 file2 到目录 dir1 中。dir1 必须已经存在。      |
| mv dir1 dir2        | 如果目录 dir2 不存在，创建目录 dir2，并且移动目录 dir1 的内容到 目录 dir2 中，同时删除目录 dir1。如果目录 dir2 存在，移动目录 dir1（及它的内容）到目录 dir2。 |



#### *rm 选项*

| 选项              | 意义                                                         |
| ----------------- | ------------------------------------------------------------ |
| -i, --interactive | 在删除已存在的文件前，提示用户确认信息。 **如果不指定这个选项，rm 会默默地删除文件** |
| -r, --recursive   | 递归地删除文件，这意味着，如果要删除一个目录，而此目录 又包含子目录，那么子目录也会被删除。要删除一个目录，必须指定这个选项。 |
| -f, --force       | 忽视不存在的文件，不显示提示信息。这选项覆盖了“--interactive”选项。 |
| -v, --verbose     | 在执行 rm 命令时，显示翔实的操作信息。                       |



#### *rm 实例*

| 命令              | 运行结果                                                     |
| ----------------- | ------------------------------------------------------------ |
| rm file1          | 默默地删除文件                                               |
| rm -i file1       | 除了在删除文件之前，提示用户确认信息之外，和上面的命令作用一样。 |
| rm -r file1 dir1  | 删除文件 file1, 目录 dir1，及 dir1 中的内容。                |
| rm -rf file1 dir1 | 同上，除了如果文件 file1，或目录 dir1 不存在的话，rm 仍会继续执行。 |



### 第六章 使用命令

- type – 说明怎样解释一个命令名
- which – 显示会执行哪个可执行程序
- man – 显示命令手册页
- apropos – 显示一系列适合的命令
- info – 显示命令 info
- whatis – 显示一个命令的简洁描述
- alias – 创建命令别名



#### *手册页的组织形式*

| 章节 | 内容                               |
| ---- | ---------------------------------- |
| 1    | 用户命令                           |
| 2    | 程序接口内核系统调用               |
| 3    | C 库函数程序接口                   |
| 4    | 特殊文件，比如说设备结点和驱动程序 |
| 5    | 文件格式                           |
| 6    | 游戏娱乐，如屏幕保护程序           |
| 7    | 其他方面                           |
| 8    | 系统管理员命令                     |



#### *info 命令*

| 命令              | 行为                                          |
| ----------------- | --------------------------------------------- |
| ?                 | 显示命令帮助                                  |
| PgUp or Backspace | 显示上一页                                    |
| PgDn or Space     | 显示下一页                                    |
| n                 | 下一个 - 显示下一个结点                       |
| p                 | 上一个 - 显示上一个结点                       |
| u                 | Up - 显示当前所显示结点的父结点，通常是个菜单 |
| Enter             | 激活光标位置下的超级链接                      |
| q                 | 退出                                          |



### 第七章 重定向

- cat － 连接文件
- sort － 排序文本行
- uniq － 报道或省略重复行
- grep － 打印匹配行
- wc － 打印文件中换行符，字，和字节个数
- head － 输出文件第一部分
- tail - 输出文件最后一部分
- tee - 从标准输入读取数据，并同时写到标准输出和文件











### 第八章 从shell眼中看世界

- echo － 显示一行文本



#### *算术操作符*

| 操作符 | 说明                                                       |
| ------ | ---------------------------------------------------------- |
| +      | 加                                                         |
| -      | 减                                                         |
| *      | 乘                                                         |
| /      | 除（但是记住，因为展开只是支持整数除法，所以结果是整数。） |
| %      | 取余，只是简单的意味着，“余数”                             |
| **     | 取幂                                                       |







### 第九章 键盘高级操作技巧

- clear － 清空屏幕
- history － 显示历史列表内容

#### 移动光标

*光标移动命令*

| 按键   | 行动                                                   |
| ------ | ------------------------------------------------------ |
| Ctrl-a | 移动光标到行首。                                       |
| Ctrl-e | 移动光标到行尾。                                       |
| Ctrl-f | 光标前移一个字符；和右箭头作用一样。                   |
| Ctrl-b | 光标后移一个字符；和左箭头作用一样。                   |
| Alt-f  | 光标前移一个字。                                       |
| Alt-b  | 光标后移一个字。                                       |
| Ctrl-l | 清空屏幕，移动光标到左上角。clear 命令完成同样的工作。 |



#### 修改文本

*文本编辑命令*

| 按键   | 行动                                     |
| ------ | ---------------------------------------- |
| Ctrl-d | 删除光标位置的字符。                     |
| Ctrl-t | 光标位置的字符和光标前面的字符互换位置。 |
| Alt-t  | 光标位置的字和其前面的字互换位置。       |
| Alt-l  | 把从光标位置到字尾的字符转换成小写字母。 |
| Alt-u  | 把从光标位置到字尾的字符转换成大写字母。 |



#### 剪切和粘贴文本

*剪切和粘贴命令*

| 按键          | 行动                                                         |
| ------------- | ------------------------------------------------------------ |
| Ctrl-k        | 剪切从光标位置到行尾的文本。                                 |
| Ctrl-u        | 剪切从光标位置到行首的文本。                                 |
| Alt-d         | 剪切从光标位置到词尾的文本。                                 |
| Alt-Backspace | 剪切从光标位置到词头的文本。如果光标在一个单词的开头，剪切前一个单词。 |
| Ctrl-y        | 把剪切环中的文本粘贴到光标位置。                             |



#### 自动补全

*自动补全命令*

| 按键  | 行动                                                         |
| ----- | ------------------------------------------------------------ |
| Alt-? | 显示可能的自动补全列表。在大多数系统中，你也可以完成这个通过按 两次 tab 键，这会更容易些。 |
| Alt-* | 插入所有可能的自动补全。当你想要使用多个可能的匹配项时，这个很有帮助。 |



#### 利用历史命令

 *历史命令*

| 按键   | 行为                                                         |
| ------ | ------------------------------------------------------------ |
| Ctrl-p | 移动到上一个历史条目。类似于上箭头按键。                     |
| Ctrl-n | 移动到下一个历史条目。类似于下箭头按键。                     |
| Alt-<  | 移动到历史列表开头。                                         |
| Alt->  | 移动到历史列表结尾，即当前命令行。                           |
| Ctrl-r | 反向增量搜索。从当前命令行开始，向上增量搜索。               |
| Alt-p  | 反向搜索，非增量搜索。（输入要查找的字符串，按下 Enter来执行搜索）。 |
| Alt-n  | 向前搜索，非增量。                                           |
| Ctrl-o | 执行历史列表中的当前项，并移到下一个。如果你想要执行历史列表中一系列的命令，这很方便。 |



*历史展开命令*

| 序列     | 行为                                                         |
| -------- | ------------------------------------------------------------ |
| !!       | 重复最后一次执行的命令。可能按下上箭头按键和 enter 键更容易些。 |
| !number  | 重复历史列表中第 number 行的命令。                           |
| !string  | 重复最近历史列表中，以这个字符串开头的命令。                 |
| !?string | 重复最近历史列表中，包含这个字符串的命令。                   |













### 第十章 权限

- id – 显示用户身份号
- chmod – 更改文件模式
- umask – 设置默认的文件权限
- su – 以另一个用户的身份来运行 shell
- sudo – 以另一个用户的身份来执行命令
- chown – 更改文件所有者
- chgrp – 更改文件组所有权
- passwd – 更改用户密码



#### *文件类型*

| 属性 | 文件类型                                                     |
| ---- | ------------------------------------------------------------ |
| -    | 一个普通文件                                                 |
| d    | 一个目录                                                     |
| l    | 一个符号链接。注意对于符号链接文件，剩余的文件属性总是"rwxrwxrwx"，而且都是 虚拟值。真正的文件属性是指符号链接所指向的文件的属性。 |
| c    | 一个字符设备文件。这种文件类型是指按照字节流来处理数据的设备。 比如说终端机或者调制解调器 |
| b    | 一个块设备文件。这种文件类型是指按照数据块来处理数据的设备，例如一个硬盘或者 CD-ROM 盘。 |



#### *权限属性*

| 属性 | 文件                                                         | 目录                                                         |
| ---- | ------------------------------------------------------------ | ------------------------------------------------------------ |
| r    | 允许打开并读取文件内容。                                     | 允许列出目录中的内容，前提是目录必须设置了可执行属性（x）。  |
| w    | 允许写入文件内容或截断文件。但是不允许对文件进行重命名或删除，重命名或删除是由目录的属性决定的。 | 允许在目录下新建、删除或重命名文件，前提是目录必须设置了可执行属性（x）。 |
| x    | 允许将文件作为程序来执行，使用脚本语言编写的程序必须设置为可读才能被执行。 | 允许进入目录，例如：cd directory 。                          |



#### *权限属性示例*

| 文件属性   | 含义                                                         |
| ---------- | ------------------------------------------------------------ |
| -rwx------ | 一个普通文件，对文件所有者来说可读、可写、可执行。其他人无法访问。 |
| -rw------- | 一个普通文件，对文件所有者来说可读可写。其他人无法访问。     |
| -rw-r--r-- | 一个普通文件，对文件所有者来说可读可写，文件所有者的组成员可以读该文件，其他所有人都可以读该文件。 |
| -rwxr-xr-x | 一个普通文件，对文件所有者来说可读、可写、可执行。也可以被其他的所有人读取和执行。 |
| -rw-rw---- | 一个普通文件，对文件所有者以及文件所有者的组成员来说可读可写。 |
| lrwxrwxrwx | 一个符号链接，符号链接的权限都是虚拟的，真实的权限应该以符号链接指向的文件为准。 |
| drwxrwx--- | 一个目录，文件所有者以及文件所有者的组成员可以访问该目录，并且可以在该目录下新建、重命名、删除文件。 |
| drwxr-x--- | 一个目录，文件所有者可以访问该目录，并且可以在该目录下新建、重命名、删除文件，文件所有者的组成员可以访问该目录，但是不能新建、重命名、删除文件。 |



#### *chmod 命令符号表示法*

| u    | "user"的简写，意思是文件或目录的所有者。 |
| ---- | ---------------------------------------- |
| g    | 用户组。                                 |
| o    | "others"的简写，意思是其他所有的人。     |
| a    | "all"的简写，是"u", "g"和“o”三者的联合。 |



#### *chmod 符号表示法实例*

| u+x       | 为文件所有者添加可执行权限。                                 |
| --------- | ------------------------------------------------------------ |
| u-x       | 删除文件所有者的可执行权限。                                 |
| +x        | 为文件所有者，用户组，和其他所有人添加可执行权限。 等价于 a+x。 |
| o-rw      | 除了文件所有者和用户组，删除其他人的读权限和写权限。         |
| go=rw     | 给文件所属的组和文件所属者/组以外的人读写权限。如果文件所属组或其他人已经拥有执行的权限，执行权限将被移除。 |
| u+x,go=rw | 给文件拥有者执行权限并给组和其他人读和执行的权限。多种设定可以用逗号分开。 |



#### *chown 参数实例*

| 参数      | 结果                                                         |
| --------- | ------------------------------------------------------------ |
| bob       | 把文件所有者从当前属主更改为用户 bob。                       |
| bob:users | 把文件所有者改为用户 bob，文件用户组改为用户组 users。       |
| :admins   | 把文件用户组改为组 admins，文件所有者不变。                  |
| bob:      | 文件所有者改为用户 bob，文件用户组改为用户 bob 登录系统时所属的用户组。 |













### 第十一章 进程

- ps – 报告当前进程快照
- top – 显示任务
- jobs – 列出活跃的任务
- bg – 把一个任务放到后台执行
- fg – 把一个任务放到前台执行
- kill – 给一个进程发送信号
- killall – 杀死指定名字的进程
- shutdown – 关机或重启系统



#### *进程状态*

| 状态 | 含义                                                         |
| ---- | ------------------------------------------------------------ |
| R    | 运行中。这意味着，进程正在运行或准备运行。                   |
| S    | 正在睡眠。进程没有运行，而是，正在等待一个事件， 比如说，一个按键或者网络分组。 |
| D    | 不可中断睡眠。进程正在等待 I/O，比方说，一个磁盘驱动器的 I/O。 |
| T    | 已停止. 已经指示进程停止运行。稍后介绍更多。                 |
| Z    | 一个死进程或“僵尸”进程。这是一个已经终止的子进程，但是它的父进程还没有清空它。 （父进程没有把子进程从进程表中删除） |
| <    | 一个高优先级进程。这可能会授予一个进程更多重要的资源，给它更多的 CPU 时间。 进程的这种属性叫做 niceness。具有高优先级的进程据说是不好的（less nice）， 因为它占用了比较多的 CPU 时间，这样就给其它进程留下很少时间。 |
| N    | 低优先级进程。 一个低优先级进程（一个“nice”进程）只有当其它高优先级进程被服务了之后，才会得到处理器时间。 |



#### *BSD 风格的 ps 命令列标题*

| 标题  | 含义                                             |
| ----- | ------------------------------------------------ |
| USER  | 用户 ID. 进程的所有者。                          |
| %CPU  | 以百分比表示的 CPU 使用率                        |
| %MEM  | 以百分比表示的内存使用率                         |
| VSZ   | 虚拟内存大小                                     |
| RSS   | 进程占用的物理内存的大小，以千字节为单位。       |
| START | 进程启动的时间。若它的值超过24小时，则用天表示。 |



#### *top 命令信息字段*

| 行号 | 字段          | 意义                                                         |
| ---- | ------------- | ------------------------------------------------------------ |
| 1    | top           | 程序名。                                                     |
|      | 14:59:20      | 当前时间。                                                   |
|      | up 6:30       | 这是正常运行时间。它是计算机从上次启动到现在所运行的时间。 在这个例子里，系统已经运行了六个半小时。 |
|      | 2 users       | 有两个用户登录系统。                                         |
|      | load average: | 加载平均值是指，等待运行的进程数目，也就是说，处于可以运行状态并共享 CPU 的进程个数。 这里展示了三个数值，每个数值对应不同的时间段。第一个是最后60秒的平均值， 下一个是前5分钟的平均值，最后一个是前15分钟的平均值。若平均值低于1.0，则指示计算机 工作不忙碌。 |
| 2    | Tasks:        | 总结了进程数目和这些进程的各种状态。                         |
| 3    | Cpu(s):       | 这一行描述了 CPU 正在进行的活动的特性。                      |
|      | 0.7%us        | 0.7% 的 CPU 被用于用户进程。这意味着进程在内核之外。         |
|      | 1.0%sy        | 1.0%的 CPU 时间被用于系统（内核）进程。                      |
|      | 0.0%ni        | 0.0%的 CPU 时间被用于"nice"（低优先级）进程。                |
|      | 98.3%id       | 98.3%的 CPU 时间是空闲的。                                   |
|      | 0.0%wa        | 0.0%的 CPU 时间来等待 I/O。                                  |
| 4    | Mem:          | 展示物理内存的使用情况。                                     |
| 5    | Swap:         | 展示交换分区（虚拟内存）的使用情况。                         |



#### *常用信号*

| 编号 | 名字 | 含义                                                         |
| ---- | ---- | ------------------------------------------------------------ |
| 1    | HUP  | 挂起（Hangup）。这是美好往昔的残留部分，那时候终端机通过电话线和调制解调器连接到 远端的计算机。这个信号被用来告诉程序，控制的终端机已经“挂断”。 通过关闭一个终端会话，可以展示这个信号的作用。在当前终端运行的前台程序将会收到这个信号并终止。许多守护进程也使用这个信号，来重新初始化。这意味着，当一个守护进程收到这个信号后， 这个进程会重新启动，并且重新读取它的配置文件。Apache 网络服务器守护进程就是一个例子。 |
| 2    | INT  | 中断。实现和 Ctrl-c 一样的功能，由终端发送。通常，它会终止一个程序。 |
| 9    | KILL | 杀死。这个信号很特别。尽管程序可能会选择不同的方式来处理发送给它的 信号，其中也包含忽略信号，但是 KILL 信号从不被发送到目标程序。而是内核立即终止 这个进程。当一个进程以这种方式终止的时候，它没有机会去做些“清理”工作，或者是保存工作。 因为这个原因，把 KILL 信号看作最后一招，当其它终止信号失败后，再使用它。 |
| 15   | TERM | 终止。这是 kill 命令发送的默认信号。如果程序仍然“活着”，可以接受信号，那么 这个它会终止。 |
| 18   | CONT | 继续。在一个停止信号后，这个信号会恢复进程的运行。           |
| 19   | STOP | 停止。这个信号导致进程停止运行，而不是终止。像 KILL 信号，它不被 发送到目标进程，因此它不能被忽略。 |



#### *其它常用信号*

| 编号 | 名字  | 含义                                                         |
| ---- | ----- | ------------------------------------------------------------ |
| 3    | QUIT  | 退出                                                         |
| 11   | SEGV  | 段错误(Segmentation Violation)。如果一个程序非法使用内存，就会发送这个信号。也就是说， 程序试图写入内存，而这个内存空间是不允许此程序写入的。 |
| 20   | TSTP  | 终端停止(Terminal Stop)。当按下 Ctrl-z 组合键后，终端发送这个信号。不像 STOP 信号， TSTP 信号由目标进程接收，且可能被忽略。 |
| 28   | WINCH | 改变窗口大小(Window Change)。当改变窗口大小时，系统会发送这个信号。 一些程序，像 top 和 less 程序会响应这个信号，按照新窗口的尺寸，刷新显示的内容。 |



#### *其它与进程相关的命令*

| 命令名 | 命令描述                                                     |
| ------ | ------------------------------------------------------------ |
| pstree | 输出一个树型结构的进程列表(processtree)，这个列表展示了进程间父/子关系。 |
| vmstat | 输出一个系统资源使用快照，包括内存，交换分区和磁盘 I/O。 为了看到连续的显示结果，则在命令名后加上更新操作延时的时间（以秒为单位）。例如，“vmstat 5”。 ，按下 Ctrl-c 组合键, 终止输出。 |
| xload  | 一个图形界面程序，可以画出系统负载随时间变化的图形。         |
| tload  | terminal load与 xload 程序相似，但是在终端中画出图形。使用 Ctrl-c，来终止输出。 |



## 配置文件和shell环境

### 第十二章 shell环境

- printenv - 打印部分或所有的环境变量
- set - 设置 shell 选项
- export — 导出环境变量，让随后执行的程序知道。
- alias - 创建命令别名



#### *环境变量*

| 变量    | 内容                                                         |
| ------- | ------------------------------------------------------------ |
| DISPLAY | 如果你正在运行图形界面环境，那么这个变量就是你显示器的名字。通常，它是 ":0"， 意思是由 X 产生的第一个显示器。 |
| EDITOR  | 文本编辑器的名字。                                           |
| SHELL   | shell 程序的名字。                                           |
| HOME    | 用户家目录。                                                 |
| LANG    | 定义了字符集以及语言编码方式。                               |
| OLD_PWD | 先前的工作目录。                                             |
| PAGER   | 页输出程序的名字。这经常设置为/usr/bin/less。                |
| PATH    | 由冒号分开的目录列表，当你输入可执行程序名后，会搜索这个目录列表。 |
| PS1     | Prompt String 1. 这个定义了你的 shell 提示符的内容。随后我们可以看到，这个变量 内容可以全面地定制。 |
| PWD     | 当前工作目录。                                               |
| TERM    | 终端类型名。类 Unix 的系统支持许多终端协议；这个变量设置你的终端仿真器所用的协议。 |
| TZ      | 指定你所在的时区。大多数类 Unix 的系统按照协调时间时 (UTC) 来维护计算机内部的时钟 ，然后应用一个由这个变量指定的偏差来显示本地时间。 |
| USER    | 你的用户名                                                   |



#### *登录 shell 会话的启动文件*

| 文件            | 内容                                                         |
| --------------- | ------------------------------------------------------------ |
| /etc/profile    | 应用于所有用户的全局配置脚本。                               |
| ~/.bash_profile | 用户个人的启动文件。可以用来扩展或重写全局配置脚本中的设置。 |
| ~/.bash_login   | 如果文件 ~/.bash_profile 没有找到，bash 会尝试读取这个脚本。 |
| ~/.profile      | 如果文件 ~/.bash_profile 或文件 ~/.bash_login 都没有找到，bash 会试图读取这个文件。 这是基于 Debian 发行版的默认设置，比方说 Ubuntu。 |



#### *非登录 shell 会话的启动文件*

| 文件             | 内容                                                         |
| ---------------- | ------------------------------------------------------------ |
| /etc/bash.bashrc | 应用于所有用户的全局配置文件。                               |
| ~/.bashrc        | 用户个人的启动文件。可以用来扩展或重写全局配置脚本中的设置。 |



| 文本行                           | 含义                                                         |
| -------------------------------- | ------------------------------------------------------------ |
| umask 0002                       | 设置掩码来解决共享目录的问题。                               |
| export HISTCONTROL=ignoredups    | 使得 shell 的历史记录功能忽略一个命令，如果相同的命令已被记录。 |
| export HISTSIZE=1000             | 增加命令历史的大小，从默认的 500 行扩大到 1000 行。          |
| alias l.='ls -d .* --color=auto' | 创建一个新命令，叫做'l.'，这个命令会显示所有以点开头的目录项。 |
| alias ll='ls -l --color=auto'    | 创建一个叫做'll'的命令，这个命令会显示长格式目录列表。       |



















### 第十三章 vi简介

#### *光标移动按键*

| 按键                | 移动光标                                          |
| ------------------- | ------------------------------------------------- |
| l or 右箭头         | 向右移动一个字符                                  |
| h or 左箭头         | 向左移动一个字符                                  |
| j or 下箭头         | 向下移动一行                                      |
| k or 上箭头         | 向上移动一行                                      |
| 0 (零按键)          | 移动到当前行的行首。                              |
| ^                   | 移动到当前行的第一个非空字符。                    |
| $                   | 移动到当前行的末尾。                              |
| w                   | 移动到下一个单词或标点符号的开头。                |
| W                   | 移动到下一个单词的开头，忽略标点符号。            |
| b                   | 移动到上一个单词或标点符号的开头。                |
| B                   | 移动到上一个单词的开头，忽略标点符号。            |
| Ctrl-f or Page Down | 向下翻一页                                        |
| Ctrl-b or Page Up   | 向上翻一页                                        |
| numberG             | 移动到第 number 行。例如，1G 移动到文件的第一行。 |
| G                   | 移动到文件末尾。                                  |



#### *文本行打开按键*

| 命令 | 打开行                 |
| ---- | ---------------------- |
| o    | 当前行的下方打开一行。 |
| O    | 当前行的上方打开一行。 |



#### *文本删除命令*

| 命令 | 删除的文本                               |
| ---- | ---------------------------------------- |
| x    | 当前字符                                 |
| 3x   | 当前字符及其后的两个字符。               |
| dd   | 当前行。                                 |
| 5dd  | 当前行及随后的四行文本。                 |
| dW   | 从光标位置开始到下一个单词的开头。       |
| d$   | 从光标位置开始到当前行的行尾。           |
| d0   | 从光标位置开始到当前行的行首。           |
| d^   | 从光标位置开始到文本行的第一个非空字符。 |
| dG   | 从当前行到文件的末尾。                   |
| d20G | 从当前行到文件的第20行。                 |



#### *复制命令*

| 命令 | 复制的内容                               |
| ---- | ---------------------------------------- |
| yy   | 当前行。                                 |
| 5yy  | 当前行及随后的四行文本。                 |
| yW   | 从当前光标位置到下一个单词的开头。       |
| y$   | 从当前光标位置到当前行的末尾。           |
| y0   | 从当前光标位置到行首。                   |
| y^   | 从当前光标位置到文本行的第一个非空字符。 |
| yG   | 从当前行到文件末尾。                     |
| y20G | 从当前行到文件的第20行。                 |



| 条目       | 含义                                                         |
| ---------- | ------------------------------------------------------------ |
| :          | 冒号字符运行一个 ex 命令。                                   |
| %          | 指定要操作的行数。% 是一个快捷方式，表示从第一行到最后一行。另外，操作范围也 可以用 1,5 来代替（因为我们的文件只有5行文本），或者用 1,$ 来代替，意思是 “ 从第一行到文件的最后一行。” 如果省略了文本行的范围，那么操作只对当前行生效。 |
| s          | 指定操作。在这种情况下是，替换（查找与替代）。               |
| /Line/line | 查找类型与替代文本。                                         |
| g          | 这是“全局”的意思，意味着对文本行中所有匹配的字符串执行查找和替换操作。如果省略 g，则 只替换每个文本行中第一个匹配的字符串。 |



#### *替换确认按键*

| 按键           | 行为                                                 |
| -------------- | ---------------------------------------------------- |
| y              | 执行替换操作                                         |
| n              | 跳过这个匹配的实例                                   |
| a              | 对这个及随后所有匹配的字符串执行替换操作。           |
| q or esc       | 退出替换操作。                                       |
| l              | 执行这次替换并退出。l 是 “last” 的简写。             |
| Ctrl-e, Ctrl-y | 分别是向下滚动和向上滚动。用于查看建议替换的上下文。 |

































































### 第十四章 自定制shell提示符

#### *Shell 提示符中用到的转义字符*

| 序列 | 显示值                                                       |
| ---- | ------------------------------------------------------------ |
| \a   | 以 ASCII 格式编码的铃声 . 当遇到这个转义序列时，计算机会发出嗡嗡的响声。 |
| \d   | 以日，月，天格式来表示当前日期。例如，“Mon May 26.”          |
| \h   | 本地机的主机名，但不带末尾的域名。                           |
| \H   | 完整的主机名。                                               |
| \j   | 运行在当前 shell 会话中的工作数。                            |
| \l   | 当前终端设备名。                                             |
| \n   | 一个换行符。                                                 |
| \r   | 一个回车符。                                                 |
| \s   | shell 程序名。                                               |
| \t   | 以24小时制，hours:minutes:seconds 的格式表示当前时间.        |
| \T   | 以12小时制表示当前时间。                                     |
| \@   | 以12小时制，AM/PM 格式来表示当前时间。                       |
| \A   | 以24小时制，hours:minutes 格式表示当前时间。                 |
| \u   | 当前用户名。                                                 |
| \v   | shell 程序的版本号。                                         |
| \V   | Version and release numbers of the shell.                    |
| \w   | 当前工作目录名。                                             |
| \W   | 当前工作目录名的最后部分。                                   |
| \!   | 当前命令的历史号。                                           |
| \#   | 当前 shell 会话中的命令数。                                  |
| \$   | 这会显示一个"$"字符，除非你拥有超级用户权限。在那种情况下， 它会显示一个"#"字符。 |
| \[   | 标志着一系列一个或多个非打印字符的开始。这被用来嵌入非打印 的控制字符，这些字符以某种方式来操作终端仿真器，比方说移动光标或者是更改文本颜色。 |
| \]   | 标志着非打印字符序列结束。                                   |



#### *用转义序列来设置文本颜色*

| 序列       | 文本颜色 | 序列       | 文本颜色 |
| ---------- | -------- | ---------- | -------- |
| \033[0;30m | 黑色     | \033[1;30m | 深灰色   |
| \033[0;31m | 红色     | \033[1;31m | 浅红色   |
| \033[0;32m | 绿色     | \033[1;32m | 浅绿色   |
| \033[0;33m | 棕色     | \033[1;33m | 黄色     |
| \033[0;34m | 蓝色     | \033[1;34m | 浅蓝色   |
| \033[0;35m | 粉红     | \033[1;35m | 浅粉色   |
| \033[0;36m | 青色     | \033[1;36m | 浅青色   |
| \033[0;37m | 浅灰色   | \033[1;37m | 白色     |



#### *用转义序列来设置背景颜色*

| \033[0;40m | 蓝色 | \033[1;44m | 黑色   |
| ---------- | ---- | ---------- | ------ |
| \033[0;41m | 红色 | \033[1;45m | 紫色   |
| \033[0;42m | 绿色 | \033[1;46m | 青色   |
| \033[0;43m | 棕色 | \033[1;47m | 浅灰色 |



#### *光标移动转义序列*

| 转义编码  | 行动                                           |
| --------- | ---------------------------------------------- |
| \033[l;cH | 把光标移到第 l 行，第 c 列。                   |
| \033[nA   | 把光标向上移动 n 行。                          |
| \033[nB   | 把光标向下移动 n 行。                          |
| \033[nC   | 把光标向前移动 n 个字符。                      |
| \033[nD   | 把光标向后移动 n 个字符。                      |
| \033[2J   | 清空屏幕，把光标移到左上角（第零行，第零列）。 |
| \033[K    | 清空从光标位置到当前行末的内容。               |
| \033[s    | 存储当前光标位置。                             |
| \033[u    | 唤醒之前存储的光标位置。                       |



| 序列         | 行动                                                         |
| ------------ | ------------------------------------------------------------ |
| \[           | 开始一个非打印字符序列。其真正的目的是为了让 bash 能够正确地计算提示符的大小。如果没有这个转义字符的话，命令行编辑 功能会弄错光标的位置。 |
| \033[s       | 存储光标位置。这个用来使光标能回到原来提示符的位置， 当长条和时钟显示到屏幕上方之后。当心一些 终端仿真器不推崇这个编码。 |
| \033[0;0H    | 把光标移到屏幕左上角，也就是第零行，第零列的位置。           |
| \033[0;41m   | 把背景设置为红色。                                           |
| \033[K       | 清空从当前光标位置到行末的内容。因为现在 背景颜色是红色，则被清空行背景成为红色，以此来创建长条。注意虽然一直清空到行末， 但是不改变光标位置，它仍然在屏幕左上角。 |
| \033[1;33m   | 把文本颜色设为黄色。                                         |
| \t           | 显示当前时间。虽然这是一个可“打印”的元素，但我们仍把它包含在提示符的非打印部分， 因为我们不想 bash 在计算可见提示符的真正大小时包括这个时钟在内。 |
| \033[0m      | 关闭颜色设置。这对文本和背景都起作用。                       |
| \033[u       | 恢复到之前保存过的光标位置处。                               |
| \]           | 结束非打印字符序列。                                         |
| <\u@\h \W>\$ | 提示符字符串。                                               |



## 常见任务和基本工具

### 第十五章 软件包管理



#### *主要的包管理系统家族*

| 包管理系统           | 发行版 (部分列表)                                            |
| -------------------- | ------------------------------------------------------------ |
| Debian Style (.deb)  | Debian, Ubuntu, Xandros, Linspire                            |
| Red Hat Style (.rpm) | Fedora, CentOS, Red Hat Enterprise Linux, OpenSUSE, Mandriva, PCLinuxOS |



#### *包管理工具*

| 发行版                                   | 底层工具 | 上层工具          |
| ---------------------------------------- | -------- | ----------------- |
| Debian-Style                             | dpkg     | apt-get, aptitude |
| Fedora, Red Hat Enterprise Linux, CentOS | rpm      | yum               |



#### *软件包查找工具*

| 风格    | 命令                                           |
| ------- | ---------------------------------------------- |
| Debian  | apt-get update; apt-cache search search_string |
| Red Hat | yum search search_string                       |



####  *软件包安装命令*

| 风格    | 命令                                         |
| ------- | -------------------------------------------- |
| Debian  | apt-get update; apt-get install package_name |
| Red Hat | yum install package_name                     |



#### *底层软件包安装命令*

| 风格    | 命令                        |
| ------- | --------------------------- |
| Debian  | dpkg --install package_file |
| Red Hat | rpm -i package_file         |



#### *软件包删除命令*

| 风格    | 命令                        |
| ------- | --------------------------- |
| Debian  | apt-get remove package_name |
| Red Hat | yum erase package_name      |



#### *软件包更新命令*

| 风格    | 命令                            |
| ------- | ------------------------------- |
| Debian  | apt-get update; apt-get upgrade |
| Red Hat | yum update                      |



#### *底层软件包升级命令*

| 风格    | 命令                        |
| ------- | --------------------------- |
| Debian  | dpkg --install package_file |
| Red Hat | rpm -U package_file         |



#### *列出所安装的软件包命令*

| 风格    | 命令        |
| ------- | ----------- |
| Debian  | dpkg --list |
| Red Hat | rpm -qa     |



#### *软件包状态命令*

| 风格    | 命令                       |
| ------- | -------------------------- |
| Debian  | dpkg --status package_name |
| Red Hat | rpm -q package_name        |



#### *查看软件包信息命令*

| 风格    | 命令                        |
| ------- | --------------------------- |
| Debian  | apt-cache show package_name |
| Red Hat | yum info package_name       |



#### *包文件识别命令*

| 风格    | 命令                    |
| ------- | ----------------------- |
| Debian  | dpkg --search file_name |
| Red Hat | rpm -qf file_name       |



### 第十六章 存储媒介

- mount – 挂载一个文件系统
- umount – 卸载一个文件系统
- fsck – 检查和修复一个文件系统
- fdisk – 分区表控制器
- mkfs – 创建文件系统
- fdformat – 格式化一张软盘
- dd — 把面向块的数据直接写入设备
- genisoimage (mkisofs) – 创建一个 ISO 9660的映像文件
- wodim (cdrecord) – 把数据写入光存储媒介
- md5sum – 计算 MD5检验码



#### */etc/fstab 字段*

| 字段 | 内容         | 说明                                                         |
| ---- | ------------ | ------------------------------------------------------------ |
| 1    | 设备名       | 传统上，这个字段包含与物理设备相关联的设备文件的实际名字，比如说/dev/hda1（第一个 IDE 通道上第一个主设备分区）。然而今天的计算机，有很多热插拔设备（像 USB 驱动设备），许多 现代的 Linux 发行版用一个文本标签和设备相关联。当这个设备连接到系统中时， 这个标签（当储存媒介格式化时，这个标签会被添加到存储媒介中）会被操作系统读取。 那样的话，不管赋给实际物理设备哪个设备文件，这个设备仍然能被系统正确地识别。 |
| 2    | 挂载点       | 设备所连接到的文件系统树的目录。                             |
| 3    | 文件系统类型 | Linux 允许挂载许多文件系统类型。大多数本地的 Linux 文件系统是 ext3， 但是也支持很多其它的，比方说 FAT16 (msdos), FAT32 (vfat)，NTFS (ntfs)，CD-ROM (iso9660)，等等。 |
| 4    | 选项         | 文件系统可以通过各种各样的选项来挂载。有可能，例如，挂载只读的文件系统， 或者挂载阻止执行任何程序的文件系统（一个有用的安全特性，避免删除媒介。） |
| 5    | 频率         | 一位数字，指定是否和在什么时间用 dump 命令来备份一个文件系统。 |
| 6    | 次序         | 一位数字，指定 fsck 命令按照什么次序来检查文件系统。         |



#### *Linux 存储设备名称*

| 模式     | 设备                                                         |
| -------- | ------------------------------------------------------------ |
| /dev/fd* | 软盘驱动器                                                   |
| /dev/hd* | 老系统中的 IDE(PATA)磁盘。典型的主板包含两个 IDE 连接器或者是通道，每个连接器 带有一根缆线，每根缆线上有两个硬盘驱动器连接点。缆线上的第一个驱动器叫做主设备， 第二个叫做从设备。设备名称这样安排，/dev/hda 是指第一通道上的主设备名；/dev/hdb 是第一通道上的从设备名；/dev/hdc 是第二通道上的主设备名，等等。末尾的数字表示 硬盘驱动器上的分区。例如，/dev/hda1是指系统中第一硬盘驱动器上的第一个分区，而 /dev/hda 则是指整个硬盘驱动器。 |
| /dev/lp* | 打印机                                                       |
| /dev/sd* | SCSI 磁盘。在最近的 Linux 系统中，内核把所有类似于磁盘的设备（包括 PATA/SATA 硬盘， 闪存，和 USB 存储设备，比如说可移动的音乐播放器和数码相机）看作 SCSI 磁盘。 剩下的命名系统类似于上述所描述的旧的/dev/hd*命名方案。 |
| /dev/sr* | 光盘（CD/DVD 读取器和烧写器）                                |



### 第十七章 网络系统

- ping - 发送 ICMP ECHO_REQUEST 数据包到网络主机
- traceroute - 打印到一台网络主机的路由数据包
- netstat - 打印网络连接，路由表，接口统计数据，伪装连接，和多路广播成员
- ftp - 因特网文件传输程序
- wget - 非交互式网络下载器
- ssh - OpenSSH SSH 客户端（远程登录程序）

- IP (网络协议)地址
- 主机和域名
- URI（统一资源标识符）



| 命令                             | 意思                                                         |
| -------------------------------- | ------------------------------------------------------------ |
| ftp fileserver                   | 唤醒 ftp 程序，让它连接到 FTP 服务器，fileserver。           |
| anonymous                        | 登录名。输入登录名后，将出现一个密码提示。一些服务器将会接受空密码， 其它一些则会要求一个邮件地址形式的密码。如果是这种情况，试着输入 “user@example.com”。 |
| cd pub/cd_images/Ubuntu-8.04     | 跳转到远端系统中，要下载文件所在的目录下， 注意在大多数匿名的 FTP 服务器中，支持公共下载的文件都能在目录 pub 下找到 |
| ls                               | 列出远端系统中的目录。                                       |
| lcd Desktop                      | 跳转到本地系统中的 ~/Desktop 目录下。在实例中，ftp 程序在工作目录 ~ 下被唤醒。 这个命令把工作目录改为 ~/Desktop |
| get ubuntu-8.04-desktop-i386.iso | 告诉远端系统传送文件到本地。因为本地系统的工作目录 已经更改到了 ~/Desktop，所以文件会被下载到此目录。 |
| bye                              | 退出远端服务器，结束 ftp 程序会话。也可以使用命令 quit 和 exit。 |



### 第十八章 查找文件

- locate – 通过名字来查找文件
- find – 在一个目录层次结构中搜索文件
- xargs – 从标准输入生成和执行命令行
- touch – 更改文件时间
- stat – 显示文件或文件系统状态



#### *find 文件类型*

| 文件类型 | 描述             |
| -------- | ---------------- |
| b        | 块特殊设备文件   |
| c        | 字符特殊设备文件 |
| d        | 目录             |
| f        | 普通文件         |
| l        | 符号链接         |



####  *find 大小单位*

| 字符 | 单位                                           |
| ---- | ---------------------------------------------- |
| b    | 512 个字节块。如果没有指定单位，则这是默认值。 |
| c    | 字节                                           |
| w    | 两个字节的字                                   |
| k    | 千字节(1024个字节单位)                         |
| M    | 兆字节(1048576个字节单位)                      |
| G    | 千兆字节(1073741824个字节单位)                 |



####  *find 测试条件*

| 测试条件       | 描述                                                         |
| -------------- | ------------------------------------------------------------ |
| -cmin n        | 匹配内容或属性最后修改时间正好在 n 分钟之前的文件或目录。 指定少于 n 分钟之前，使用 -n，指定多于 n 分钟之前，使用 +n。 |
| -cnewer file   | 匹配内容或属性最后修改时间晚于 file 的文件或目录。           |
| -ctime n       | 匹配内容和属性最后修改时间在 n*24小时之前的文件和目录。      |
| -empty         | 匹配空文件和目录。                                           |
| -group name    | 匹配属于一个组的文件或目录。组可以用组名或组 ID 来表示。     |
| -iname pattern | 就像-name 测试条件，但是不区分大小写。                       |
| -inum n        | 匹配 inode 号是 n的文件。这对于找到某个特殊 inode 的所有硬链接很有帮助。 |
| -mmin n        | 匹配内容被修改于 n 分钟之前的文件或目录。                    |
| -mtime n       | 匹配的文件或目录的内容被修改于 n*24小时之前。                |
| -name pattern  | 用指定的通配符模式匹配的文件和目录。                         |
| -newer file    | 匹配内容晚于指定的文件的文件和目录。这在编写执行备份的 shell 脚本的时候很有帮。 每次你制作一个备份，更新文件（比如说日志），然后使用 find 命令来判断哪些文件自从上一次更新之后被更改了。 |
| -nouser        | 匹配不属于一个有效用户的文件和目录。这可以用来查找 属于被删除的帐户的文件或监测攻击行为。 |
| -nogroup       | 匹配不属于一个有效的组的文件和目录。                         |
| -perm mode     | 匹配权限已经设置为指定的 mode的文件或目录。mode 可以用 八进制或符号表示法。 |
| -samefile name | 类似于-inum 测试条件。匹配和文件 name 享有同样 inode 号的文件。 |
| -size n        | 匹配大小为 n 的文件                                          |
| -type c        | 匹配文件类型是 c 的文件。                                    |
| -user name     | 匹配属于某个用户的文件或目录。这个用户可以通过用户名或用户 ID 来表示。 |



####  *find 命令的逻辑操作符*

| 操作符 | 描述                                                         |
| ------ | ------------------------------------------------------------ |
| -and   | 如果操作符两边的测试条件都是真，则匹配。可以简写为 -a。 注意若没有使用操作符，则默认使用 -and。 |
| -or    | 若操作符两边的任一个测试条件为真，则匹配。可以简写为 -o。    |
| -not   | 若操作符后面的测试条件是假，则匹配。可以简写为一个感叹号（!）。 |
| ()     | 把测试条件和操作符组合起来形成更大的表达式。这用来控制逻辑计算的优先级。 默认情况下，find 命令按照从左到右的顺序计算。经常有必要重写默认的求值顺序，以得到期望的结果。 即使没有必要，有时候包括组合起来的字符，对提高命令的可读性是很有帮助的。注意 因为圆括号字符对于 shell 来说有特殊含义，所以在命令行中使用它们的时候，它们必须 用引号引起来，才能作为实参传递给 find 命令。通常反斜杠字符被用来转义圆括号字符。 |



####  *find AND/OR 逻辑*

| expr1 的结果 | 操作符 | expr2 is... |
| ------------ | ------ | ----------- |
| 真           | -and   | 总要执行    |
| 假           | -and   | 从不执行    |
| 真           | -or    | 从不执行    |
| 假           | -or    | 总要执行    |



#### *几个预定义的 find 命令操作*

| 操作    | 描述                                                         |
| ------- | ------------------------------------------------------------ |
| -delete | 删除当前匹配的文件。                                         |
| -ls     | 对匹配的文件执行等同的 ls -dils 命令。并将结果发送到标准输出。 |
| -print  | 把匹配文件的全路径名输送到标准输出。如果没有指定其它操作，这是 默认操作。 |
| -quit   | 一旦找到一个匹配，退出。                                     |



| 测试／行为    | 只有...的时候，才被执行                                |
| ------------- | ------------------------------------------------------ |
| -print        | 只有 -type f and -name '*.BAK'为真的时候               |
| -name ‘*.BAK’ | 只有 -type f 为真的时候                                |
| -type f       | 总是被执行，因为它是与 -and 关系中的第一个测试／行为。 |



####  *find 命令选项*

| 选项             | 描述                                                         |
| ---------------- | ------------------------------------------------------------ |
| -depth           | 指示 find 程序先处理目录中的文件，再处理目录自身。当指定-delete 行为时，会自动 应用这个选项。 |
| -maxdepth levels | 当执行测试条件和行为的时候，设置 find 程序陷入目录树的最大级别数 |
| -mindepth levels | 在应用测试条件和行为之前，设置 find 程序陷入目录数的最小级别数。 |
| -mount           | 指示 find 程序不要搜索挂载到其它文件系统上的目录。           |
| -noleaf          | 指示 find 程序不要基于自己在搜索 Unix 的文件系统的假设，来优化它的搜索。 在搜索DOS/Windows 文件系统和CD/ROMS的时候，我们需要这个选项 |



### 第十九章 归档和备份

- gzip – 压缩或者展开文件
- bzip2 – 块排序文件压缩器
- tar – 磁带打包工具
- zip – 打包和压缩文件
- rsync – 同步远端文件和目录



#### *gzip 选项*

| 选项    | 说明                                                         |
| ------- | ------------------------------------------------------------ |
| -c      | 把输出写入到标准输出，并且保留原始文件。也有可能用--stdout 和--to-stdout 选项来指定。 |
| -d      | 解压缩。正如 gunzip 命令一样。也可以用--decompress 或者--uncompress 选项来指定. |
| -f      | 强制压缩，即使原始文件的压缩文件已经存在了，也要执行。也可以用--force 选项来指定。 |
| -h      | 显示用法信息。也可用--help 选项来指定。                      |
| -l      | 列出每个被压缩文件的压缩数据。也可用--list 选项。            |
| -r      | 若命令的一个或多个参数是目录，则递归地压缩目录中的文件。也可用--recursive 选项来指定。 |
| -t      | 测试压缩文件的完整性。也可用--test 选项来指定。              |
| -v      | 显示压缩过程中的信息。也可用--verbose 选项来指定。           |
| -number | 设置压缩指数。number 是一个在1（最快，最小压缩）到9（最慢，最大压缩）之间的整数。 数值1和9也可以各自用--fast 和--best 选项来表示。默认值是整数6。 |



#### *tar 模式*

| 模式 | 说明                               |
| ---- | ---------------------------------- |
| c    | 为文件和／或目录列表创建归档文件。 |
| x    | 抽取归档文件。                     |
| r    | 追加具体的路径到归档文件的末尾。   |
| t    | 列出归档文件的内容。               |



### 第二十章 正则表达式

####  *grep 选项*

| 选项 | 描述                                                         |
| ---- | ------------------------------------------------------------ |
| -i   | 忽略大小写。不会区分大小写字符。也可用--ignore-case 来指定。 |
| -v   | 不匹配。通常，grep 程序会打印包含匹配项的文本行。这个选项导致 grep 程序只会打印不包含匹配项的文本行。也可用--invert-match 来指定。 |
| -c   | 打印匹配的数量（或者是不匹配的数目，若指定了-v 选项），而不是文本行本身。 也可用--count 选项来指定。 |
| -l   | 打印包含匹配项的文件名，而不是文本行本身，也可用--files-with-matches 选项来指定。 |
| -L   | 相似于-l 选项，但是只是打印不包含匹配项的文件名。也可用--files-without-match 来指定。 |
| -n   | 在每个匹配行之前打印出其位于文件中的相应行号。也可用--line-number 选项来指定。 |
| -h   | 应用于多文件搜索，不输出文件名。也可用--no-filename 选项来指定。 |



####  *POSIX 字符集*

| 字符集     | 说明                                                         |
| ---------- | ------------------------------------------------------------ |
| [:alnum:]  | 字母数字字符。在 ASCII 中，等价于：[A-Za-z0-9]               |
| [:word:]   | 与[:alnum:]相同, 但增加了下划线字符。                        |
| [:alpha:]  | 字母字符。在 ASCII 中，等价于：[A-Za-z]                      |
| [:blank:]  | 包含空格和 tab 字符。                                        |
| [:cntrl:]  | ASCII 的控制码。包含了0到31，和127的 ASCII 字符。            |
| [:digit:]  | 数字0到9                                                     |
| [:graph:]  | 可视字符。在 ASCII 中，它包含33到126的字符。                 |
| [:lower:]  | 小写字母。                                                   |
| [:punct:]  | 标点符号字符。在 ASCII 中，等价于：[-!"#$%&'()*+,./:;<=>?@[\\\]_`{\|}~] |
| [:print:]  | 可打印的字符。在[:graph:]中的所有字符，再加上空格字符。      |
| [:space:]  | 空白字符，包括空格、tab、回车、换行、vertical tab 和 form feed.在 ASCII 中， 等价于：[ \t\r\n\v\f] |
| [:upper:]  | 大写字母。                                                   |
| [:xdigit:] | 用来表示十六进制数字的字符。在 ASCII 中，等价于：[0-9A-Fa-f] |



#### *指定匹配的数目*

| 限定符 | 意思                                                     |
| ------ | -------------------------------------------------------- |
| {n}    | 匹配前面的元素，如果它确切地出现了 n 次。                |
| {n,m}  | 匹配前面的元素，如果它至少出现了 n 次，但是不多于 m 次。 |
| {n,}   | 匹配前面的元素，如果它出现了 n 次或多于 n 次。           |
| {,m}   | 匹配前面的元素，如果它出现的次数不多于 m 次。            |





### 第二十一章 文本处理

- cat – 连接文件并且打印到标准输出
- sort – 给文本行排序
- uniq – 报告或者省略重复行
- cut – 从每行中删除文本区域
- paste – 合并文件文本行
- join – 基于某个共享字段来联合两个文件的文本行
- comm – 逐行比较两个有序的文件
- diff – 逐行比较文件
- patch – 给原始文件打补丁
- tr – 翻译或删除字符
- sed – 用于筛选和转换文本的流编辑器
- aspell – 交互式拼写检查器



#### *常见的 sort 程序选项*

| 选项 | 长选项                  | 描述                                                         |
| ---- | ----------------------- | ------------------------------------------------------------ |
| -b   | --ignore-leading-blanks | 默认情况下，对整行进行排序，从每行的第一个字符开始。这个选项导致 sort 程序忽略 每行开头的空格，从第一个非空白字符开始排序。 |
| -f   | --ignore-case           | 让排序不区分大小写。                                         |
| -n   | --numeric-sort          | 基于字符串的数值来排序。使用此选项允许根据数字值执行排序，而不是字母值。 |
| -r   | --reverse               | 按相反顺序排序。结果按照降序排列，而不是升序。               |
| -k   | --key=field1[,field2]   | 对从 field1到 field2之间的字符排序，而不是整个文本行。看下面的讨论。 |
| -m   | --merge                 | 把每个参数看作是一个预先排好序的文件。把多个文件合并成一个排好序的文件，而没有执行额外的排序。 |
| -o   | --output=file           | 把排好序的输出结果发送到文件，而不是标准输出。               |
| -t   | --field-separator=char  | 定义域分隔字符。默认情况下，域由空格或制表符分隔。           |



#### *常用的 uniq 选项*

| 选项 | 说明                                                         |
| ---- | ------------------------------------------------------------ |
| -c   | 输出所有的重复行，并且每行开头显示重复的次数。               |
| -d   | 只输出重复行，而不是特有的文本行。                           |
| -f n | 忽略每行开头的 n 个字段，字段之间由空格分隔，正如 sort 程序中的空格分隔符；然而， 不同于 sort 程序，uniq 没有选项来设置备用的字段分隔符。 |
| -i   | 在比较文本行的时候忽略大小写。                               |
| -s n | 跳过（忽略）每行开头的 n 个字符。                            |
| -u   | 只输出独有的文本行。这是默认的。                             |



####  *cut 程序选择项*

| 选项          | 说明                                                         |
| ------------- | ------------------------------------------------------------ |
| -c char_list  | 从文本行中抽取由 char_list 定义的文本。这个列表可能由一个或多个逗号 分隔开的数值区间组成。 |
| -f field_list | 从文本行中抽取一个或多个由 field_list 定义的字段。这个列表可能 包括一个或多个字段，或由逗号分隔开的字段区间。 |
| -d delim_char | 当指定-f 选项之后，使用 delim_char 做为字段分隔符。默认情况下， 字段之间必须由单个 tab 字符分隔开。 |
| --complement  | 抽取整个文本行，除了那些由-c 和／或-f 选项指定的文本。       |



#### *diff 更改命令*

| 改变  | 说明                                                         |
| ----- | ------------------------------------------------------------ |
| r1ar2 | 把第二个文件中位置 r2 处的文件行添加到第一个文件中的 r1 处。 |
| r1cr2 | 用第二个文件中位置 r2 处的文本行更改（替代）位置 r1 处的文本行。 |
| r1dr2 | 删除第一个文件中位置 r1 处的文本行，这些文本行将会出现在第二个文件中位置 r2 处。 |



#### *diff 上下文模式更改指示符*

| 指示符 | 意思                                                         |
| ------ | ------------------------------------------------------------ |
| blank  | 上下文显示行。它并不表示两个文件之间的差异。                 |
| -      | 删除行。这一行将会出现在第一个文件中，而不是第二个文件内。   |
| +      | 添加行。这一行将会出现在第二个文件内，而不是第一个文件中。   |
| !      | 更改行。将会显示某个文本行的两个版本，每个版本会出现在更改组的各自部分。 |





#### *diff 统一模式更改指示符*

| 字符 | 意思                       |
| ---- | -------------------------- |
| 空格 | 两个文件都包含这一行。     |
| -    | 在第一个文件中删除这一行。 |
| +    | 添加这一行到第一个文件中。 |



#### *sed 地址表示法*

| 地址        | 说明                                                         |
| ----------- | ------------------------------------------------------------ |
| n           | 行号，n 是一个正整数。                                       |
| $           | 最后一行。                                                   |
| /regexp/    | 所有匹配一个 POSIX 基本正则表达式的文本行。注意正则表达式通过 斜杠字符界定。选择性地，这个正则表达式可能由一个备用字符界定，通过\cregexpc 来 指定表达式，这里 c 就是一个备用的字符。 |
| addr1,addr2 | 从 addr1 到 addr2 范围内的文本行，包含地址 addr2 在内。地址可能是上述任意 单独的地址形式。 |
| first~step  | 匹配由数字 first 代表的文本行，然后随后的每个在 step 间隔处的文本行。例如 1~2 是指每个位于偶数行号的文本行，5~5 则指第五行和之后每五行位置的文本行。 |
| addr1,+n    | 匹配地址 addr1 和随后的 n 个文本行。                         |
| addr!       | 匹配所有的文本行，除了 addr 之外，addr 可能是上述任意的地址形式。 |



####   *sed 基本编辑命令*

| 命令                  | 说明                                                         |
| --------------------- | ------------------------------------------------------------ |
| =                     | 输出当前的行号。                                             |
| a                     | 在当前行之后追加文本。                                       |
| d                     | 删除当前行。                                                 |
| i                     | 在当前行之前插入文本。                                       |
| p                     | 打印当前行。默认情况下，sed 程序打印每一行，并且只是编辑文件中匹配 指定地址的文本行。通过指定-n 选项，这个默认的行为能够被忽略。 |
| q                     | 退出 sed，不再处理更多的文本行。如果不指定-n 选项，输出当前行。 |
| Q                     | 退出 sed，不再处理更多的文本行。                             |
| s/regexp/replacement/ | 只要找到一个 regexp 匹配项，就替换为 replacement 的内容。 replacement 可能包括特殊字符 &，其等价于由 regexp 匹配的文本。另外， replacement 可能包含序列 \1到 \9，其是 regexp 中相对应的子表达式的内容。更多信息，查看 下面 back references 部分的讨论。在 replacement 末尾的斜杠之后，可以指定一个 可选的标志，来修改 s 命令的行为。 |
| y/set1/set2           | 执行字符转写操作，通过把 set1 中的字符转变为相对应的 set2 中的字符。 注意不同于 tr 程序，sed 要求两个字符集合具有相同的长度。 |



### 第二十二章 格式化输出

- nl – 添加行号
- fold – 限制文件列宽
- fmt – 一个简单的文本格式转换器
- pr – 让文本为打印做好准备
- printf – 格式化数据并打印出来
- groff – 一个文件格式化系统



#### *nl 标记*

| 标记   | 含义             |
| ------ | ---------------- |
| \:\:\: | 逻辑页页眉开始处 |
| \:\:   | 逻辑页主体开始处 |
| \:     | 逻辑页页脚开始处 |



#### *常用 nl 选项*

| 选项      | 含义                                                         |
| --------- | ------------------------------------------------------------ |
| -b style  | 把 body 按被要求方式数行，可以是以下方式：a = 数所有行t = 数非空行。这是默认设置。n = 无pregexp = 只数那些匹配了正则表达式的行 |
| -f style  | 将 footer 按被要求设置数。默认是无                           |
| -h style  | 将 header 按被要求设置数。默认是                             |
| -i number | 将页面增加量设置为数字。默认是一。                           |
| -n format | 设置数数的格式，格式可以是：ln = 左偏，没有前导零。rn = 右偏，没有前导零。rz = 右偏，有前导零。 |
| -p        | 不要在没一个逻辑页面的开始重设页面数。                       |
| -s string | 在没一个行的末尾加字符作分割符号。默认是单个的 tab。         |
| -v number | 将每一个逻辑页面的第一行设置成数字。默认是一。               |
| -w width  | 将行数的宽度设置，默认是六。                                 |



#### *printf 转换规范组件*

| 组件 | 描述                                        |
| ---- | ------------------------------------------- |
| d    | 将数字格式化为带符号的十进制整数            |
| f    | 格式化并输出浮点数                          |
| o    | 将整数格式化为八进制数                      |
| s    | 将字符串格式化                              |
| x    | 将整数格式化为十六进制数，必要时使用小写a-f |
| X    | 与 x 相同，但变为大写                       |
| %    | 打印 % 符号 (比如，指定 “%%”)               |



#### *printf 转换规范组件*

| 组件       | 描述                                                         |
| ---------- | ------------------------------------------------------------ |
| flags      | 有5种不同的标志:# – 使用“备用格式”输出。这取决于数据类型。对于o（八进制数）转换，输出以0为前缀.对于x和X（十六进制数）转换，输出分别以0x或0X为前缀。0–(零) 用零填充输出。这意味着该字段将填充前导零，比如“000380”。- – (破折号) 左对齐输出。默认情况下，printf右对齐输出。‘ ’ – (空格) 在正数前空一格。+ – (加号) 在正数前添加加号。默认情况下，printf 只在负数前添加符号。 |
| width      | 指定最小字段宽度的数。                                       |
| .precision | 对于浮点数，指定小数点后的精度位数。对于字符串转换，指定要输出的字符数。 |



#### *print 转换规范示例*

| 自变量      | 格式      | 结果        | 备注                                                         |
| ----------- | --------- | ----------- | ------------------------------------------------------------ |
| 380         | "%d"      | 380         | 简单格式化整数。                                             |
| 380         | "%#x"     | 0x17c       | 使用“替代格式”标志将整数格式化为十六进制数。                 |
| 380         | "%05d"    | 00380       | 用前导零（padding）格式化整数，且最小字段宽度为五个字符。    |
| 380         | "%05.5f"  | 380.00000   | 使用前导零和五位小数位精度格式化数字为浮点数。由于指定的最小字段宽度（5）小于格式化后数字的实际宽度，因此前导零这一命令实际上没有起到作用。 |
| 380         | "%010.5f" | 0380.00000  | 将最小字段宽度增加到10，前导零现在变得可见。                 |
| 380         | "%+d"     | +380        | 使用+标志标记正数。                                          |
| 380         | "%-d"     | 380         | 使用-标志左对齐                                              |
| abcdefghijk | "%5s"     | abcedfghijk | 用最小字段宽度格式化字符串。                                 |
| abcdefghijk | "%d"      | abcde       | 对字符串应用精度，它被从中截断。                             |





### 第二十三章 打印

- pr —— 转换需要打印的文本文件
- lpr —— 打印文件
- lp —— 打印文件（System V）
- a2ps —— 为 PostScript 打印机格式化文件
- lpstat —— 显示打印机状态信息
- lpq —— 显示打印机队列状态
- lprm —— 取消打印任务
- cancel —— 取消打印任务（System V）



#### *常用 pr 选项*

| 选项          | 描述                                                         |
| ------------- | ------------------------------------------------------------ |
| +first[:last] | 输出从 first 到 last（默认为最后）范围内的页面。             |
| -columns      | 根据 columns 指定的列数排版页面内容。                        |
| -a            | 默认多列输出为垂直，用 -a (across)可使其水平输出。           |
| -d            | 双空格输出。                                                 |
| -D format     | 用 format 指定的格式修改页眉中显示的日期，日期命令中 format 字符串的描述详见参考手册。 |
| -f            | 改用换页替换默认的回车来分割页面。                           |
| -h header     | 在页眉中部用 header 参数替换打印文件的名字。                 |
| -l length     | 设置页长为 length，默认为66行（每英寸6行的美国信纸）。       |
| -n            | 输出行号。                                                   |
| -o offset     | 创建一个宽 offset 字符的左页边。                             |
| -w width      | 设置页宽为 width，默认为72字符。                             |



#### *常用 lpr 选项*

| 选项       | 描述                                                         |
| ---------- | ------------------------------------------------------------ |
| -# number  | 设定打印份数为 number。                                      |
| -p         | 使每页页眉标题中带有日期、时间、工作名称和页码。这种所谓的“美化打印”选项可用于打印文本文件。 |
| -P printer | 指定输出打印机的名称。未指定则使用系统默认打印机。           |
| -r         | 打印后删除文件。对程序产生的临时打印文件较为有用。           |



#### *常用 lp 选项*

| 选项                                                         | 描述                                                         |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| -d printer                                                   | 设定目标（打印机）为 printer。若d 选项未指定，则使用系统默认打印机。 |
| -n number                                                    | 设定的打印份数为 number。                                    |
| -o landscape                                                 | 设置输出为横向。                                             |
| -o fitplot                                                   | 缩放文件以适应页面。打印图像时较为有用，如 JPEG 文件。       |
| -o scaling=number                                            | 缩放文件至 number。100表示填满页面，小于100表示缩小，大于100则会打印在多页上。 |
| -o cpi=number                                                | 设定输出为 number 字符每英寸。默认为10。                     |
| -o lpi=number                                                | 设定输出为 number 行每英寸，默认为6。                        |
| -o page-bottom=points -o page-left=points -o page-right=points -o page-top=points | 设置页边距，单位为点，一种印刷上的单位。一英寸 =72点。       |
| -P pages                                                     | 指定打印的页面。pages 可以是逗号分隔的列表或范围——例如 1,3,5,7-10。 |



#### *a2ps 选项*

| 选项                    | 描述                                                         |
| ----------------------- | ------------------------------------------------------------ |
| --center-title text     | 设置中心页标题为 text。                                      |
| --columns number        | 将所有页面排列成 number 列。默认为2。                        |
| --footer text           | 设置页脚为 text。                                            |
| --guess                 | 报告参数中文件的类型。由于 a2ps 会转换并格式化所有类型的数据，所以当给定文件类型后，这个选项可以很好的用来判断 a2ps 应该做什么。 |
| --left-footer text      | 设置左页脚为 text。                                          |
| --left-title text       | 设置页面左标题为 text。                                      |
| --line-numbers=interval | 每隔 interval 行输出行号。                                   |
| --list=defauls          | 显示默认设置。                                               |
| --list=topic            | 显示 topic 设置，topic 表示下列之一：代理程序（用来转换数据的外部程序），编码，特征，变量，媒介（页面大小等），ppd（PostScript 打印机描述信息），打印机，起始程序（为常规输出添加前缀的代码部分），样式表，或用户选项。 |
| --pages range           | 打印 range 范围内的页面。                                    |
| --right-footer text     | 设置右页脚为 text。                                          |
| --right-title text      | 设置页面右标题为 text。                                      |
| --rows number           | 将所有页面排列成 number 排。默认为1。                        |
| -B                      | 没有页眉。                                                   |
| -b text                 | 设置页眉为 text。                                            |
| -f size                 | 使用字体大小为 size 号。                                     |
| -l number               | 设置每行字符数为 number。此项和 -L 选项（见下方）可以给文件用其他程序来更准确的分页，如 pr。 |
| -L number               | 设置每页行数为 number。                                      |
| -M name                 | 使用打印媒介的名称——例如，A4。                               |
| -n number               | 每页输出 number 份。                                         |
| -o file                 | 输出到文件 file。如果指定为 - ，则输出到标准输出。           |
| -P printer              | 使用打印机 printer。如果未指定，则使用系统默认打印机。       |
| -R                      | 纵向打印。                                                   |
| -r                      | 横向打印。                                                   |
| -T number               | 设置制表位为每 number 字符。                                 |
| -u text                 | 用 text 作为页面底图（水印）。                               |



#### *常用 lpstat 选项*

| 选项            | 描述                                                         |
| --------------- | ------------------------------------------------------------ |
| -a [printer...] | 显示 printer 打印机的队列。这里显示的状态是打印机队列承受任务的能力，而不是实体打印机的状态。若未指定打印机，则显示所有打印队列。 |
| -d              | 显示系统默认打印机的名称。                                   |
| -p [printer...] | 显示 printer 指定的打印机的状态。若未指定打印机，则显示所有打印机状态。 |
| -r              | 显示打印系统的状态。                                         |
| -s              | 显示汇总状态。                                               |
| -t              | 显示完整状态报告。                                           |



### 第二十四章 编译程序

```shell
./configure
make
make install
```



## 编写shell脚本

### 第二十五章 编写第一个shell脚本



### 第二十六章 启动一个项目



### 第二十七章 自顶向下设计



### 第二十八章 流程控制： if分支结构

#### *测试文件表达式*

| 表达式          | 如果下列条件为真则返回True                                   |
| --------------- | ------------------------------------------------------------ |
| file1 -ef file2 | file1 和 file2 拥有相同的索引号（通过硬链接两个文件名指向相同的文件）。 |
| file1 -nt file2 | file1新于 file2。                                            |
| file1 -ot file2 | file1早于 file2。                                            |
| -b file         | file 存在并且是一个块（设备）文件。                          |
| -c file         | file 存在并且是一个字符（设备）文件。                        |
| -d file         | file 存在并且是一个目录。                                    |
| -e file         | file 存在。                                                  |
| -f file         | file 存在并且是一个普通文件。                                |
| -g file         | file 存在并且设置了组 ID。                                   |
| -G file         | file 存在并且由有效组 ID 拥有。                              |
| -k file         | file 存在并且设置了它的“sticky bit”。                        |
| -L file         | file 存在并且是一个符号链接。                                |
| -O file         | file 存在并且由有效用户 ID 拥有。                            |
| -p file         | file 存在并且是一个命名管道。                                |
| -r file         | file 存在并且可读（有效用户有可读权限）。                    |
| -s file         | file 存在且其长度大于零。                                    |
| -S file         | file 存在且是一个网络 socket。                               |
| -t fd           | fd 是一个定向到终端／从终端定向的文件描述符 。 这可以被用来决定是否重定向了标准输入／输出错误。 |
| -u file         | file 存在并且设置了 setuid 位。                              |
| -w file         | file 存在并且可写（有效用户拥有可写权限）。                  |
| -x file         | file 存在并且可执行（有效用户有执行／搜索权限）。            |



#### *测试字符串表达式*

| 表达式                              | 如果下列条件为真则返回True                                   |
| ----------------------------------- | ------------------------------------------------------------ |
| string                              | string 不为 null。                                           |
| -n string                           | 字符串 string 的长度大于零。                                 |
| -z string                           | 字符串 string 的长度为零。                                   |
| string1 = string2string1 == string2 | string1 和 string2 相同。 单或双等号都可以，不过双等号更受欢迎。 |
| string1 != string2                  | string1 和 string2 不相同。                                  |
| string1 > string2                   | sting1 排列在 string2 之后。                                 |
| string1 < string2                   | string1 排列在 string2 之前。                                |

#### *测试整数表达式*

| 表达式                | 如果为真...                    |
| --------------------- | ------------------------------ |
| integer1 -eq integer2 | integer1 等于 integer2。       |
| integer1 -ne integer2 | integer1 不等于 integer2。     |
| integer1 -le integer2 | integer1 小于或等于 integer2。 |
| integer1 -lt integer2 | integer1 小于 integer2。       |
| integer1 -ge integer2 | integer1 大于或等于 integer2。 |
| integer1 -gt integer2 | integer1 大于 integer2。       |

#### *逻辑操作符*

| 操作符 | 测试 | [[ ]] and (( )) |
| ------ | ---- | --------------- |
| AND    | -a   | &&              |
| OR     | -o   | \|\|            |
| NOT    | !    | !               |



### 第二十九章 读取键盘输入

####  *read 选项*

| 选项         | 说明                                                         |
| ------------ | ------------------------------------------------------------ |
| -a array     | 把输入赋值到数组 array 中，从索引号零开始。我们 将在第36章中讨论数组问题。 |
| -d delimiter | 用字符串 delimiter 中的第一个字符指示输入结束，而不是一个换行符。 |
| -e           | 使用 Readline 来处理输入。这使得与命令行相同的方式编辑输入。 |
| -n num       | 读取 num 个输入字符，而不是整行。                            |
| -p prompt    | 为输入显示提示信息，使用字符串 prompt。                      |
| -r           | Raw mode. 不把反斜杠字符解释为转义字符。                     |
| -s           | Silent mode. 不会在屏幕上显示输入的字符。当输入密码和其它确认信息的时候，这会很有帮助。 |
| -t seconds   | 超时. 几秒钟后终止输入。若输入超时，read 会返回一个非零退出状态。 |
| -u fd        | 使用文件描述符 fd 中的输入，而不是标准输入。                 |



### 第三十章 流程控制：while/until循环



### 第三十一章 疑难排解



### 第三十二章  流程控制：case分支

####  *case 模式实例*

| 模式         | 描述                                                         |
| ------------ | ------------------------------------------------------------ |
| a)           | 若单词为 “a”，则匹配                                         |
| [[:alpha:]]) | 若单词是一个字母字符，则匹配                                 |
| ???)         | 若单词只有3个字符，则匹配                                    |
| *.txt)       | 若单词以 “.txt” 字符结尾，则匹配                             |
| *)           | 匹配任意单词。把这个模式做为 case 命令的最后一个模式，是一个很好的做法， 可以捕捉到任意一个与先前模式不匹配的数值；也就是说，捕捉到任何可能的无效值。 |



### 第三十三章 位置参数

#### ** 和 @ 特殊参数*

| 参数 | 描述                                                         |
| ---- | ------------------------------------------------------------ |
| $*   | 展开成一个从1开始的位置参数列表。当它被用双引号引起来的时候，展开成一个由双引号引起来 的字符串，包含了所有的位置参数，每个位置参数由 shell 变量 IFS 的第一个字符（默认为一个空格）分隔开。 |
| $@   | 展开成一个从1开始的位置参数列表。当它被用双引号引起来的时候， 它把每一个位置参数展开成一个由双引号引起来的分开的字符串。 |



### 第三十四章 流程控制：for循环





### 第三十五章 字符串和数字

#### *大小写转换参数展开*

| 格式           | 结果                                                        |
| -------------- | ----------------------------------------------------------- |
| ${parameter,,} | 把 parameter 的值全部展开成小写字母。                       |
| ${parameter,}  | 仅仅把 parameter 的第一个字符展开成小写字母。               |
| ${parameter^^} | 把 parameter 的值全部转换成大写字母。                       |
| ${parameter^}  | 仅仅把 parameter 的第一个字符转换成大写字母（首字母大写）。 |

#### *指定不同的数基*

| 表示法      | 描述                                                         |
| ----------- | ------------------------------------------------------------ |
| number      | 默认情况下，没有任何表示法的数字被看做是十进制数（以10为底）。 |
| 0number     | 在算术表达式中，以零开头的数字被认为是八进制数。             |
| 0xnumber    | 十六进制表示法                                               |
| base#number | number 以 base 为底                                          |



#### *算术运算符*

| 运算符 | 描述         |
| ------ | ------------ |
| +      | 加           |
| -      | 减           |
| *      | 乘           |
| /      | 整除         |
| **     | 乘方         |
| %      | 取模（余数） |

#### *赋值运算符*

| 表示法             | 描述                                                         |
| ------------------ | ------------------------------------------------------------ |
| parameter = value  | 简单赋值。给 parameter 赋值。                                |
| parameter += value | 加。等价于 parameter = parameter + value。                   |
| parameter -= value | 减。等价于 parameter = parameter – value。                   |
| parameter *= value | 乘。等价于 parameter = parameter * value。                   |
| parameter /= value | 整除。等价于 parameter = parameter / value。                 |
| parameter %= value | 取模。等价于 parameter = parameter % value。                 |
| parameter++        | 后缀自增变量。等价于 parameter = parameter + 1 (但，要看下面的讨论)。 |
| parameter--        | 后缀自减变量。等价于 parameter = parameter - 1。             |
| ++parameter        | 前缀自增变量。等价于 parameter = parameter + 1。             |
| --parameter        | 前缀自减变量。等价于 parameter = parameter - 1。             |



#### *位运算符*

| 运算符 | 描述                                         |
| ------ | -------------------------------------------- |
| ~      | 按位取反。对一个数字所有位取反。             |
| <<     | 位左移. 把一个数字的所有位向左移动。         |
| >>     | 位右移. 把一个数字的所有位向右移动。         |
| &      | 位与。对两个数字的所有位执行一个 AND 操作。  |
| \|     | 位或。对两个数字的所有位执行一个 OR 操作。   |
| ^      | 位异或。对两个数字的所有位执行一个异或操作。 |



#### *比较运算符*

| 运算符            | 描述                                                         |
| ----------------- | ------------------------------------------------------------ |
| <=                | 小于或相等                                                   |
| >=                | 大于或相等                                                   |
| <                 | 小于                                                         |
| >                 | 大于                                                         |
| ==                | 相等                                                         |
| !=                | 不相等                                                       |
| &&                | 逻辑与                                                       |
| \|\|              | 逻辑或                                                       |
| expr1?expr2:expr3 | 条件（三元）运算符。若表达式 expr1 的计算结果为非零值（算术真），则 执行表达式 expr2，否则执行表达式 expr3。 |



### 第三十六章 数组



### 第三十七章 奇珍异宝













​		 